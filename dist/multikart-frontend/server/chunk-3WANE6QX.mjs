import './polyfills.server.mjs';
import{Cd as y,I as l,N as g,Q as n,Tc as m,e as a,hd as x,wd as c,xd as f,yd as s}from"./chunk-JAGZ7S7U.mjs";import{a as u,b as B}from"./chunk-S6KH3LOX.mjs";var j=(()=>{class o{static{this.type="[Blog] Get"}constructor(e){this.payload=e}}return o})(),k=(()=>{class o{static{this.type="[Blog] By Slug"}constructor(e){this.slug=e}}return o})(),I=(()=>{class o{static{this.type="[Blog] By Recent"}constructor(e){this.payload=e}}return o})(),L=(()=>{class o{static{this.type="[Blog] Selected"}constructor(e){this.payload=e}}return o})();var R=(()=>{class o{constructor(e){this.http=e,this.skeletonLoader=!1}getBlogs(e){return this.http.get(`${y.URL}/blog.json`,{params:e})}getBlogBySlug(e){return this.http.get(`${y.URL}/blog/slug/${e}`)}static{this.\u0275fac=function(t){return new(t||o)(n(m))}}static{this.\u0275prov=g({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var d=class b{constructor(r,e){this.router=r,this.blogService=e}static blog(r){return r.blog}static selectedBlog(r){return r.selectedBlog}static resentBlog(r){return r.recentBlog}static selectedBlogs(r){return r.selectedBlogs}getBlogs(r,e){return this.blogService.skeletonLoader=!0,this.blogService.getBlogs(e.payload).pipe(l({next:t=>{r.patchState({blog:{data:t.data,total:t?.total?t?.total:t.data?.length}})},complete:()=>{this.blogService.skeletonLoader=!1},error:t=>{throw new Error(t?.error?.message)}}))}getBlogBySlug(r,{slug:e}){return this.blogService.getBlogs().pipe(l({next:t=>{if(t&&t.data){let p=r.getState(),h=t.data.find(S=>S.slug==e);r.patchState(B(u({},p),{selectedBlog:h}))}},error:t=>{throw this.router.navigate(["/404"]),new Error(t?.error?.message)}}))}getRecentBlogs(r,e){return this.blogService.getBlogs(e.payload).pipe(l({next:t=>{r.patchState({recentBlog:t.data})},error:t=>{throw new Error(t?.error?.message)}}))}getSelectedBlogs(r,e){return this.blogService.getBlogs(e.payload).pipe(l({next:t=>{r.patchState({selectedBlogs:t.data})},error:t=>{throw new Error(t?.error?.message)}}))}static{this.\u0275fac=function(e){return new(e||b)(n(x),n(R))}}static{this.\u0275prov=g({token:b,factory:b.\u0275fac})}};a([c(j)],d.prototype,"getBlogs",null);a([c(k)],d.prototype,"getBlogBySlug",null);a([c(I)],d.prototype,"getRecentBlogs",null);a([c(L)],d.prototype,"getSelectedBlogs",null);a([s()],d,"blog",null);a([s()],d,"selectedBlog",null);a([s()],d,"resentBlog",null);a([s()],d,"selectedBlogs",null);d=a([f({name:"blog",defaults:{blog:{data:[],total:0},selectedBlog:null,recentBlog:[],selectedBlogs:[]}})],d);var F=(()=>{class o{static{this.type="[Brand] Get"}constructor(e){this.payload=e}}return o})(),H=(()=>{class o{static{this.type="[Brand] Get Brand By Slug"}constructor(e){this.slug=e}}return o})();var $=(()=>{class o{constructor(e){this.http=e,this.skeletonLoader=!1}getBrands(e){return this.http.get(`${y.URL}/brand.json`,{params:e})}getBrandBySlug(e){return this.http.get(`${y.URL}/brand/slug/${e}`)}static{this.\u0275fac=function(t){return new(t||o)(n(m))}}static{this.\u0275prov=g({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var C=class v{constructor(r){this.brandService=r}static brand(r){return r.brand}static selectedBrand(r){return r.selectedBrand}getBrands(r,e){return this.brandService.skeletonLoader=!0,this.brandService.getBrands(e.payload).pipe(l({next:t=>{r.patchState({brand:{data:t.data,total:t?.total?t?.total:t.data?.length}})},complete:()=>{this.brandService.skeletonLoader=!1},error:t=>{throw new Error(t?.error?.message)}}))}getBrandBySlug(r,e){return this.brandService.getBrands().pipe(l({next:t=>{if(t&&t.data){let p=t.data.find(S=>S.slug==e.slug),h=r.getState();r.patchState(B(u({},h),{selectedBrand:p}))}},error:t=>{throw new Error(t?.error?.message)}}))}static{this.\u0275fac=function(e){return new(e||v)(n($))}}static{this.\u0275prov=g({token:v,factory:v.\u0275fac})}};a([c(F)],C.prototype,"getBrands",null);a([c(H)],C.prototype,"getBrandBySlug",null);a([s()],C,"brand",null);a([s()],C,"selectedBrand",null);C=a([f({name:"brand",defaults:{brand:{data:[],total:0},selectedBrand:null}})],C);var P=(()=>{class o{static{this.type="[Category] Get"}constructor(e){this.payload=e}}return o})(),U=(()=>{class o{static{this.type="[Category] Get"}constructor(e){this.payload=e}}return o})(),A=(()=>{class o{static{this.type="[FooterCategory] Get"}constructor(e){this.payload=e}}return o})(),q=(()=>{class o{static{this.type="[HeaderCategory] Get"}constructor(e){this.payload=e}}return o})(),z=(()=>{class o{static{this.type="[ProductCategory] Get"}constructor(e){this.payload=e}}return o})(),D=(()=>{class o{static{this.type="[CategoryBySearch] Get"}constructor(e){this.payload=e}}return o})(),J=(()=>{class o{static{this.type="[Category] Get Category By Slug"}constructor(e){this.slug=e}}return o})();var K=(()=>{class o{constructor(e){this.http=e,this.searchSkeleton=!1}getCategories(e){return this.http.get(`${y.URL}/category.json`,{params:e})}getCategoryBySlug(e){return this.http.get(`${y.URL}/category/slug/${e}`)}static{this.\u0275fac=function(t){return new(t||o)(n(m))}}static{this.\u0275prov=g({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var i=class w{constructor(r){this.categoryService=r}static category(r){return r.category}static categories(r){return r.categories}static footerCategory(r){return r.footerCategory}static headerCategory(r){return r.headerCategory}static productCategory(r){return r.productCategory}static subCategory(r){return r.category}static searchByCategory(r){return r.searchByCategory}static selectedCategory(r){return r.selectedCategory}getCategories(r,e){return this.categoryService.getCategories(e.payload).pipe(l({next:t=>{t&&t.data&&r.patchState({categories:{data:t.data,total:t?.total?t?.total:t.data.length}})},error:t=>{throw new Error(t?.error?.message)}}))}getCategory(r,e){return this.categoryService.getCategories(e.payload).pipe(l({next:t=>{t&&t.data&&r.patchState({category:{data:t.data,total:t?.total?t?.total:t.data.length}})},error:t=>{throw new Error(t?.error?.message)}}))}GetFooterCategories(r,e){return this.categoryService.getCategories(e.payload).pipe(l({next:t=>{t&&t.data&&r.patchState({footerCategory:{data:t.data,total:t?.total?t?.total:t.data.length}})},error:t=>{throw new Error(t?.error?.message)}}))}GetHeaderCategories(r,e){return this.categoryService.getCategories(e.payload).pipe(l({next:t=>{t&&t.data&&r.patchState({headerCategory:{data:t.data,total:t?.total?t?.total:t.data.length}})},error:t=>{throw new Error(t?.error?.message)}}))}GetProductCategory(r,e){return this.categoryService.getCategories(e.payload).pipe(l({next:t=>{r.patchState({productCategory:{data:t.data,total:t?.total?t?.total:t.data.length}})},error:t=>{throw new Error(t?.error?.message)}}))}getSearchByCategory(r,e){return this.categoryService.searchSkeleton=!0,this.categoryService.getCategories(e.payload).pipe(l({next:t=>{let p;e?.payload?.search?p=t.data.filter(h=>h.name.toLowerCase().includes(e?.payload?.search.toLowerCase())):p=t.data,r.patchState({searchByCategory:p?p.splice(0,4):[]})},error:t=>{throw new Error(t?.error?.message)},complete:()=>{this.categoryService.searchSkeleton=!1}}))}getCategoryBySlug(r,e){return this.categoryService.getCategories().pipe(l({next:t=>{if(t&&t.data){let p=t.data.find(S=>S.slug==e.slug),h=r.getState();r.patchState(B(u({},h),{selectedCategory:p}))}},error:t=>{throw new Error(t?.error?.message)}}))}getSubCategory(r,e){if(e?.includes(r.id)&&r)return r;r.subcategories?.length&&r.subcategories.map(t=>{this.getSubCategory(t,e)})}static{this.\u0275fac=function(e){return new(e||w)(n(K))}}static{this.\u0275prov=g({token:w,factory:w.\u0275fac})}};a([c(P)],i.prototype,"getCategories",null);a([c(U)],i.prototype,"getCategory",null);a([c(A)],i.prototype,"GetFooterCategories",null);a([c(q)],i.prototype,"GetHeaderCategories",null);a([c(z)],i.prototype,"GetProductCategory",null);a([c(D)],i.prototype,"getSearchByCategory",null);a([c(J)],i.prototype,"getCategoryBySlug",null);a([s()],i,"category",null);a([s()],i,"categories",null);a([s()],i,"footerCategory",null);a([s()],i,"headerCategory",null);a([s()],i,"productCategory",null);a([s()],i,"subCategory",null);a([s()],i,"searchByCategory",null);a([s()],i,"selectedCategory",null);i=a([f({name:"category",defaults:{category:{data:[],total:0},categories:{data:[],total:0},footerCategory:{data:[],total:0},headerCategory:{data:[],total:0},productCategory:{data:[],total:0},searchByCategory:[],selectedCategory:null}})],i);export{j as a,k as b,I as c,L as d,R as e,d as f,F as g,H as h,$ as i,C as j,P as k,A as l,q as m,D as n,J as o,K as p,i as q};
