import{M as c,R as n,Sc as i,Tc as m,U as p,Uc as g,a as u,ad as l,b as f,i as o,pc as d}from"./chunk-TA5YWXMT.js";var P=(()=>{class r{static{this.type="[Page] Get"}constructor(t){this.payload=t}}return r})(),S=(()=>{class r{static{this.type="[Page] By Slug"}constructor(t){this.slug=t}}return r})(),y=(()=>{class r{static{this.type="[Faq] Get"}}return r})(),q=(()=>{class r{static{this.type="[ContactUs] Post"}constructor(t){this.payload=t}}return r})();var v=(()=>{class r{constructor(t){this.http=t,this.skeletonLoader=!1}getPages(t){return this.http.get(`${l.URL}/page.json`,{params:t})}getFaqs(){return this.http.get(`${l.URL}/faq.json`)}getStores(t){return this.http.get(`${l.URL}/store`,{params:t})}static{this.\u0275fac=function(a){return new(a||r)(p(d))}}static{this.\u0275prov=n({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var s=class h{constructor(e){this.pageService=e}static page(e){return e.page}static faq(e){return e.faq}static selectedPage(e){return e.selectedPage}getPages(e,t){return this.pageService.getPages(t.payload).pipe(c({next:a=>{e.patchState({page:{data:a.data,total:a?.total?a?.total:a.data?.length}})},error:a=>{throw new Error(a?.error?.message)}}))}getPageBySlug(e,{slug:t}){return this.pageService.skeletonLoader=!0,this.pageService.getPages().pipe(c({next:a=>{if(a&&a.data){let G=e.getState(),x=a.data.find(F=>F.slug==t);e.patchState(f(u({},G),{selectedPage:x}))}},complete:()=>{this.pageService.skeletonLoader=!1},error:a=>{throw new Error(a?.error?.message)}}))}getFaqs(e){return this.pageService.skeletonLoader=!0,this.pageService.getFaqs().pipe(c({next:t=>{e.patchState({faq:{data:t.data,total:t?.total?t?.total:t.data?.length}})},complete:()=>{this.pageService.skeletonLoader=!1},error:t=>{throw new Error(t?.error?.message)}}))}contactUs(e,{payload:t}){}static{this.\u0275fac=function(t){return new(t||h)(p(v))}}static{this.\u0275prov=n({token:h,factory:h.\u0275fac})}};o([i(P)],s.prototype,"getPages",null);o([i(S)],s.prototype,"getPageBySlug",null);o([i(y)],s.prototype,"getFaqs",null);o([i(q)],s.prototype,"contactUs",null);o([g()],s,"page",null);o([g()],s,"faq",null);o([g()],s,"selectedPage",null);s=o([m({name:"page",defaults:{page:{data:[],total:0},faq:{data:[],total:0},selectedPage:null}})],s);export{S as a,y as b,q as c,v as d,s as e};
