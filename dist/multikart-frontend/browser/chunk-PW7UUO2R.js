import{M as o,R as s,Sc as l,Tc as d,U as n,Uc as c,a as f,ad as b,b as m,i as a,pc as A}from"./chunk-TA5YWXMT.js";var g=(()=>{class i{static{this.type="[Attribute] Get"}constructor(t){this.payload=t}}return i})(),v=(()=>{class i{static{this.type="[Attribute] Value Get"}constructor(t){this.payload=t}}return i})(),S=(()=>{class i{static{this.type="[Attribute] Edit"}constructor(t){this.id=t}}return i})();var y=(()=>{class i{constructor(t){this.http=t,this.skeletonLoader=!1,this.offCanvasMenu=!1}getAttributes(t){return this.http.get(`${b.URL}/attribute.json`,{params:t})}getAttributeValues(t){return this.http.get(`${b.URL}/attribute-value.json`,{params:t})}getAttribute(t){return this.http.get(`${b.URL}/attribute/${t}`)}static{this.\u0275fac=function(e){return new(e||i)(n(A))}}static{this.\u0275prov=s({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var u=class p{constructor(r){this.attributeService=r}static attribute(r){return r.attribute}static attribute_value(r){return t=>t?r?.attribute_values.filter(e=>+e.attribute_id===t)?.map(e=>({label:e?.value,value:e?.id})):[]}static selectedAttribute(r){return r.selectedAttribute}getAttributes(r,t){return this.attributeService.skeletonLoader=!0,this.attributeService.getAttributes(t.payload).pipe(o({next:e=>{r.patchState({attribute:{data:e.data,total:e?.total?e?.total:e.data.length}})},complete:()=>{this.attributeService.skeletonLoader=!1},error:e=>{throw new Error(e?.error?.message)}}))}getAttributeValues(r,t){return this.attributeService.getAttributeValues(t.payload).pipe(o({next:e=>{let h=r.getState();r.patchState(m(f({},h),{attribute_values:e.data}))},error:e=>{throw new Error(e?.error?.message)}}))}get(r,{id:t}){return this.attributeService.getAttributes().pipe(o({next:e=>{if(e&&e.data){let h=r.getState(),G=e.data.find(j=>j.id==t);r.patchState(m(f({},h),{selectedAttribute:G}))}},error:e=>{throw new Error(e?.error?.message)}}))}static{this.\u0275fac=function(t){return new(t||p)(n(y))}}static{this.\u0275prov=s({token:p,factory:p.\u0275fac})}};a([l(g)],u.prototype,"getAttributes",null);a([l(v)],u.prototype,"getAttributeValues",null);a([l(S)],u.prototype,"get",null);a([c()],u,"attribute",null);a([c()],u,"attribute_value",null);a([c()],u,"selectedAttribute",null);u=a([d({name:"attribute",defaults:{attribute:{data:[],total:0},attribute_values:[],selectedAttribute:null}})],u);export{y as a,g as b,S as c,u as d};
